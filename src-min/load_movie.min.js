function displayMovies(e){for(const i of e){const e=document.createElement("div");e.classList.add("film-box");const t=document.createElement("img");t.src=i.imagePath,t.alt=i.name,t.loading="lazy";const o=document.createElement("h4");o.textContent=i.name;const n=document.createElement("h6");n.textContent=i.category.join(" "),e.addEventListener("click",()=>{window.location.href=`details.html?id=${i.id}`}),e.appendChild(t),e.appendChild(o),e.appendChild(n),filmBoxMovies.appendChild(e)}}function displayMovieBasedOnRatingTopRated(){for(;filmBoxMovies.firstChild;)filmBoxMovies.removeChild(filmBoxMovies.firstChild);newArrayMovies=movies.slice(),newArrayMovies.sort((e,i)=>i.imdbRating-e.imdbRating);for(let e=0;e<repeatDisplay;e++)displayMovies(newArrayMovies)}const filmBoxMovies=document.querySelector(".film-box-lists"),repeatDisplay=1;for(let e=0;e<repeatDisplay;e++)displayMovies(movies);const categoriesLink=document.querySelectorAll(".category-link");let newArrayMovies=[];categoriesLink.forEach(e=>{e.addEventListener("click",()=>{for(;filmBoxMovies.firstChild;)filmBoxMovies.removeChild(filmBoxMovies.firstChild);const i=e.innerHTML;newArrayMovies="All categories"==i?movies:movies.filter(e=>e.category.includes(i));for(let e=0;e<repeatDisplay;e++){const e=document.getElementById("three-bar-content");e.classList.remove("set-three-bar-drop-down-to-display-block"),displayMovies(newArrayMovies)}})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("toprated");e.addEventListener("click",displayMovieBasedOnRatingTopRated)});