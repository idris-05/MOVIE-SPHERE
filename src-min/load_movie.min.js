function displayMovies(e){for(const t of e){const e=document.createElement("div");e.classList.add("film-box");const o=document.createElement("img");o.src=t.imagePath,o.alt=t.name,o.loading="lazy";const i=document.createElement("h4");i.textContent=t.name;const n=document.createElement("h6");n.textContent=t.category.join(" "),e.addEventListener("click",()=>{window.location.href=`details.html?id=${t.id}`}),e.appendChild(o),e.appendChild(i),e.appendChild(n),filmBoxMovies.appendChild(e)}}function displayMovieBasedOnRatingTopRated(){for(;filmBoxMovies.firstChild;)filmBoxMovies.removeChild(filmBoxMovies.firstChild);newArrayMovies=movies.slice(),newArrayMovies.sort((e,t)=>t.imdbRating-e.imdbRating);const e=document.getElementById("three-bar-content");e.classList.remove("set-three-bar-drop-down-to-display-block");for(let e=0;e<repeatDisplay;e++)displayMovies(newArrayMovies)}const filmBoxMovies=document.querySelector(".film-box-lists"),repeatDisplay=1;for(let e=0;e<repeatDisplay;e++)displayMovies(movies);const categoriesLink=document.querySelectorAll(".category-link");let newArrayMovies=[];categoriesLink.forEach(e=>{e.addEventListener("click",()=>{for(;filmBoxMovies.firstChild;)filmBoxMovies.removeChild(filmBoxMovies.firstChild);const t=e.innerHTML;newArrayMovies="All categories"==t?movies:movies.filter(e=>e.category.includes(t));for(let e=0;e<repeatDisplay;e++){const e=document.getElementById("three-bar-content");e.classList.remove("set-three-bar-drop-down-to-display-block"),displayMovies(newArrayMovies)}})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("toprated");e.addEventListener("click",displayMovieBasedOnRatingTopRated)});